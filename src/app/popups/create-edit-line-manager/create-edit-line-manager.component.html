<div class="create-edit-line-manager-container">
  <p-toast></p-toast>

  <form [formGroup]="lineManagerForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <!-- First Name -->
      <div class="field">
        <label for="firstName">First Name*</label>
        <input
          id="firstName"
          type="text"
          pInputText
          formControlName="firstName"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('firstName')?.invalid &&
              lineManagerForm.get('firstName')?.touched
          }"
        />
        <small
          *ngIf="
            lineManagerForm.get('firstName')?.invalid &&
            lineManagerForm.get('firstName')?.touched
          "
          class="p-error"
        >
          First Name is required
        </small>
      </div>

      <!-- Middle Name -->
      <div class="field">
        <label for="middleName">Middle Name</label>
        <input
          id="middleName"
          type="text"
          pInputText
          formControlName="middleName"
        />
      </div>

      <!-- Last Name -->
      <div class="field">
        <label for="lastName">Last Name*</label>
        <input
          id="lastName"
          type="text"
          pInputText
          formControlName="lastName"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('lastName')?.invalid &&
              lineManagerForm.get('lastName')?.touched
          }"
        />
        <small
          *ngIf="
            lineManagerForm.get('lastName')?.invalid &&
            lineManagerForm.get('lastName')?.touched
          "
          class="p-error"
        >
          Last Name is required
        </small>
      </div>

      <!-- Email -->
      <div class="field">
        <label for="email">Email*</label>
        <input
          id="email"
          type="email"
          pInputText
          formControlName="email"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('email')?.invalid &&
              lineManagerForm.get('email')?.touched
          }"
        />
        <small
          *ngIf="
            lineManagerForm.get('email')?.invalid &&
            lineManagerForm.get('email')?.touched
          "
          class="p-error"
        >
          Valid email is required
        </small>
      </div>

      <!-- Contact Number -->
      <div class="field">
        <label for="contactNumber">Contact Number*</label>
        <input
          id="contactNumber"
          type="text"
          pInputText
          formControlName="contactNumber"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('contactNumber')?.invalid &&
              lineManagerForm.get('contactNumber')?.touched
          }"
        />
        <small
          *ngIf="
            lineManagerForm.get('contactNumber')?.invalid &&
            lineManagerForm.get('contactNumber')?.touched
          "
          class="p-error"
        >
          Contact Number is required
        </small>
      </div>

      <!-- Line Manager Type -->
      <div class="field">
        <label for="lineManagerType">Line Manager Type*</label>
        <p-select
          id="lineManagerType"
          formControlName="type"
          [options]="lineManagerTypesOptions"
          optionLabel="label"
          optionValue="value"
          placeholder="Select a type"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('type')?.invalid &&
              lineManagerForm.get('type')?.touched
          }"
        ></p-select>
        <small
          *ngIf="
            lineManagerForm.get('type')?.invalid &&
            lineManagerForm.get('type')?.touched
          "
          class="p-error"
        >
          Line Manager Type is required
        </small>
      </div>

      <!-- Contact Number -->
      <div class="field">
        <label for="department">Department*</label>
        <input
          id="department"
          type="text"
          pInputText
          formControlName="department"
          [ngClass]="{
            'ng-invalid ng-dirty':
              lineManagerForm.get('department')?.invalid &&
              lineManagerForm.get('department')?.touched
          }"
        />
        <small
          *ngIf="
            lineManagerForm.get('department')?.invalid &&
            lineManagerForm.get('department')?.touched
          "
          class="p-error"
        >
          Department is required
        </small>
      </div>
    </div>

    <div class="form-actions">
      <p-button
        label="Cancel"
        icon="pi pi-times"
        styleClass="p-button-text"
        (click)="onCancel()"
      ></p-button>
      <p-button
        type="submit"
        label="Save"
        icon="pi pi-check"
        [loading]="loading"
        [disabled]="lineManagerForm.invalid"
      ></p-button>
    </div>
  </form>
</div>
